package net.skinner.scraper;

import java.io.IOException;

import org.jsoup.Connection;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;

public class ScheduleScraper {
	public static void main(String[] args) {
		ScheduleScraper.run();
	}
	
	private static void run() {
		String baseURL = "http://www.mlssoccer.com/schedule";
		for (int month = 3; month <= 12; month++) {
			Connection conn = Jsoup.connect(baseURL + "?month=" + month);
			
			Document scheduleDoc = null;
			int retries = 0;
			boolean gotDocument = false;
			while(!gotDocument){
				try {
					scheduleDoc = conn.get();
					gotDocument = true;
				} catch (IOException e) {
					if(retries >= 10){
						e.printStackTrace();
						return;
					}
					System.out.println("Failed to get document, trying again");
					retries++;
				}
			}
			System.out.println("yay");
				
		}
	}
}
